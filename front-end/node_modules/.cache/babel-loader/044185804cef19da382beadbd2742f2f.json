{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Card,Form,Button,Col,Row,Container}from\"react-bootstrap\";import{authContext}from'../context/AuthContext';import{useHistory}from'react-router-dom';var Login=function Login(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useContext=useContext(authContext),setAuthData=_useContext.setAuthData;var history=useHistory();var handleLogin=function handleLogin(e){e.preventDefault();fetch(\"http://localhost:8080/users/all\").then(function(res){return res.json();}).then(function(data){console.log(data);var user=data.find(function(el){return el.username===username;});if(user===undefined){console.log(\"error\");}else{console.log(user);setAuthData(user);history.replace(\"/\");}});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Login\")),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col},/*#__PURE__*/React.createElement(Form.Label,null,\"Username\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"text\",id:\"username\",name:\"username\",onChange:function onChange(e){return setUsername(e.target.value);},className:\"bg-dark text-white\",placeholder:\"Username\"}),/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"text\",id:\"password\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},className:\"bg-dark text-white\",placeholder:\"Password\"}))),/*#__PURE__*/React.createElement(Card.Footer,{style:{\"textAlign\":\"right\"}},/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"primary\",onClick:handleLogin},\"Login\"))))))));};export default Login;","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/AWScourse/Twitter/front-end/src/components/Login.js"],"names":["React","useState","useContext","Card","Form","Button","Col","Row","Container","authContext","useHistory","Login","username","setUsername","password","setPassword","setAuthData","history","handleLogin","e","preventDefault","fetch","then","res","json","data","console","log","user","find","el","undefined","replace","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react'\r\nimport {Card,Form,Button,Col, Row, Container} from \"react-bootstrap\"\r\nimport {authContext} from '../context/AuthContext'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState()\r\n    const [password, setPassword] = useState()\r\n    const {setAuthData} = useContext(authContext)\r\n    const history = useHistory()\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault()\r\n        fetch(\"http://localhost:8080/users/all\")\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data)\r\n            var user = data.find(el => el.username === username)\r\n            if (user === undefined) {\r\n                console.log(\"error\")\r\n            }\r\n            else {\r\n                console.log(user)\r\n                setAuthData(user)\r\n                history.replace(\"/\")\r\n            }    \r\n        })            \r\n    }\r\n\r\n\r\n        return(\r\n            <div>\r\n        <Container>\r\n          <Row>\r\n            <Col>\r\n\r\n            <Card className={\"border border-dark bg-dark text-white\"}>\r\n                    <Card.Header><h3>Login</h3></Card.Header>\r\n                    <Card.Body>\r\n                            <Form.Row>\r\n                                <Form.Group as= {Col}>\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"username\"\r\n                                    name = \"username\"\r\n                                    onChange= {e => setUsername(e.target.value)}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Username\" />\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"password\"\r\n                                    name = \"password\"\r\n                                    onChange= {e => setPassword(e.target.value)}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Password\" />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Card.Footer style={{\"textAlign\":\"right\"}}>\r\n                                <Button size=\"sm\" variant=\"primary\" onClick={handleLogin}>Login</Button>\r\n                            </Card.Footer>\r\n                        </Card.Body>    \r\n                </Card>    \r\n            </Col>\r\n          </Row>\r\n          </Container>\r\n            \r\n            </div>\r\n    \r\n        )\r\n    }\r\nexport default Login"]},"metadata":{},"sourceType":"module"}