{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Card,Form,Button,Col,Row,Container}from\"react-bootstrap\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.componentDidMount=function(){fetch(\"http://localhost:8080/users/all\").then(function(res){return res.json();}).then(function(res){_this.setState({users:res});});};_this.handleLogin=function(e){console.log(_this.state.users);e.preventDefault();var user=_this.state.users[0].username;var password=_this.state.users[0].password;var id=_this.state.users[0].id;var username=_this.state.username;var passwordInput=_this.state.password;_this.setState({id:_this.state.users[0].id});if(username===\"\"&&passwordInput===\"\"){console.log(\"error\");}else if(user===username&&passwordInput===password){console.log(\"Login success: \"+user,password,id);//this.props.handleSuccessfulAuth(user.data)\n}else{console.log(\"Username/password not valid\");}};_this.handleSuccessfulAuth=_this.handleSuccessfulAuth.bind(_assertThisInitialized(_this));_this.state={users:[],username:\"\",password:\"\",id:\"\"};return _this;}_createClass(Login,[{key:\"handleSuccessfulAuth\",value:function handleSuccessfulAuth(data){//TODO update parent component app.js\nthis.props.history.push(\"/tweets\");//after login success\n}// function(s) that serarches users for correct and matches password\n},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Card,{className:\"border border-dark bg-dark text-white\"},/*#__PURE__*/React.createElement(Card.Header,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Login\")),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col},/*#__PURE__*/React.createElement(Form.Label,null,\"Username\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"text\",id:\"username\",name:\"username\",value:this.state.value,onChange:function onChange(e){return _this2.setState({username:e.target.value});},className:\"bg-dark text-white\",placeholder:\"Username\"}),/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"text\",id:\"password\",name:\"password\",value:this.state.value,onChange:function onChange(e){return _this2.setState({password:e.target.value});},className:\"bg-dark text-white\",placeholder:\"Password\"}))),/*#__PURE__*/React.createElement(Card.Footer,{style:{\"textAlign\":\"right\"}},/*#__PURE__*/React.createElement(Button,{size:\"sm\",variant:\"primary\",onClick:this.handleLogin},\"Login\"))))),/*#__PURE__*/React.createElement(Col,null))));}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/AWScourse/Twitter/front-end/src/components/Login.js"],"names":["React","Card","Form","Button","Col","Row","Container","Login","props","componentDidMount","fetch","then","res","json","setState","users","handleLogin","e","console","log","state","preventDefault","user","username","password","id","passwordInput","handleSuccessfulAuth","bind","data","history","push","value","target","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Card,Form,Button,Col, Row, Container} from \"react-bootstrap\"\r\n\r\nexport default class Login extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.handleSuccessfulAuth = this.handleSuccessfulAuth.bind(this)\r\n        this.state = {\r\n            users: [],\r\n            username: \"\",\r\n            password: \"\",\r\n            id: \"\",\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        fetch(\"http://localhost:8080/users/all\")\r\n        .then(res => res.json())\r\n        .then((res) => {\r\n            this.setState ({ users: res })\r\n        })\r\n    }\r\n\r\n    handleSuccessfulAuth(data) {\r\n        //TODO update parent component app.js\r\n        this.props.history.push(\"/tweets\") //after login success\r\n    }\r\n\r\n\r\n\r\n    // function(s) that serarches users for correct and matches password\r\n    handleLogin = (e) => {\r\n        console.log(this.state.users)\r\n        e.preventDefault()\r\n        var user = this.state.users[0].username\r\n        var password = this.state.users[0].password\r\n        var id = this.state.users[0].id\r\n        var username = this.state.username\r\n        var passwordInput = this.state.password\r\n        this.setState({id: this.state.users[0].id})\r\n        if (username === \"\" && passwordInput === \"\") {\r\n            console.log(\"error\")\r\n            \r\n        }\r\n        else if (user === username && passwordInput === password) {\r\n            console.log (\"Login success: \" + user, password, id)\r\n            //this.props.handleSuccessfulAuth(user.data)\r\n        }\r\n        else {\r\n            console.log(\"Username/password not valid\")\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return(\r\n            <div>\r\n        <Container>\r\n          <Row>\r\n            <Col></Col>\r\n            <Col>\r\n            <br/>\r\n            <br/>\r\n            <Card className={\"border border-dark bg-dark text-white\"}>\r\n                    <Card.Header><h3>Login</h3></Card.Header>\r\n                    <Card.Body>\r\n                            <Form.Row>\r\n                                <Form.Group as= {Col}>\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"username\"\r\n                                    name = \"username\"\r\n                                    value={this.state.value}\r\n                                    onChange= {e => this.setState({username: e.target.value})}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Username\" />\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"password\"\r\n                                    name = \"password\"\r\n                                    value={this.state.value}\r\n                                    onChange= {e => this.setState({password: e.target.value})}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Password\" />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Card.Footer style={{\"textAlign\":\"right\"}}>\r\n                                <Button size=\"sm\" variant=\"primary\" onClick={this.handleLogin}>Login</Button>\r\n                            </Card.Footer>\r\n                        </Card.Body>\r\n                    \r\n                </Card>\r\n            \r\n            </Col>\r\n            <Col></Col>\r\n          </Row>\r\n          </Container>\r\n            \r\n            </div>\r\n    \r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}