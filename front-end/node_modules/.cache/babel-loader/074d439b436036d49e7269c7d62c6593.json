{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\src\\\\components\\\\Login.js\";\nimport React, { useState, useContext } from 'react';\nimport { Card, Form, Button, Col, Row, Container } from \"react-bootstrap\";\nimport { authContext } from '../context/AuthContext';\n\nconst Login = ({\n  history\n}) => {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const {\n    setAuthData\n  } = useContext(authContext);\n  /* \r\n       componentDidMount = () => {\r\n          fetch(\"http://localhost:8080/users/all\")\r\n          .then(res => res.json())\r\n          .then((res) => {\r\n              this.setState ({ users: res })\r\n          })\r\n      } */\n  // function that serarches users for correct and matches password\n\n  const handleLogin = e => {\n    e.preventDefault();\n    const users = [];\n    fetch(\"http://localhost:8080/users/all\").then(res => res.json()).then(data => users.push(data));\n    console.log(users);\n    var user = users.find(el => el.username === username);\n    console.log(user);\n\n    if (user === undefined) {\n      console.log(\"error\");\n    } else {\n      console.log(user);\n      setAuthData(username);\n      history.replace('/');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"border border-dark bg-dark text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 34\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 37\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    autoComplete: \"off\",\n    type: \"text\",\n    id: \"username\",\n    name: \"username\"\n    /* value={this.state.value} */\n    ,\n    onChange: e => setUsername(e.target.value),\n    className: \"bg-dark text-white\",\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    required: true,\n    autoComplete: \"off\",\n    type: \"text\",\n    id: \"password\",\n    name: \"password\"\n    /* value={this.state.value} */\n    ,\n    onChange: e => setPassword(e.target.value),\n    className: \"bg-dark text-white\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 37\n    }\n  }))), /*#__PURE__*/React.createElement(Card.Footer, {\n    style: {\n      \"textAlign\": \"right\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"sm\",\n    variant: \"primary\",\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }, \"Login\"))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/AWScourse/Twitter/front-end/src/components/Login.js"],"names":["React","useState","useContext","Card","Form","Button","Col","Row","Container","authContext","Login","history","username","setUsername","password","setPassword","setAuthData","handleLogin","e","preventDefault","users","fetch","then","res","json","data","push","console","log","user","find","el","undefined","replace","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react'\r\nimport {Card,Form,Button,Col, Row, Container} from \"react-bootstrap\"\r\nimport {authContext} from '../context/AuthContext'\r\n\r\nconst Login = ({history}) => {\r\n    const [username, setUsername] = useState()\r\n    const [password, setPassword] = useState()\r\n    const {setAuthData} = useContext(authContext)\r\n\r\n/* \r\n     componentDidMount = () => {\r\n        fetch(\"http://localhost:8080/users/all\")\r\n        .then(res => res.json())\r\n        .then((res) => {\r\n            this.setState ({ users: res })\r\n        })\r\n    } */\r\n    \r\n    // function that serarches users for correct and matches password\r\n    const handleLogin = (e) => {\r\n        e.preventDefault()\r\n        const users = []\r\n        fetch(\"http://localhost:8080/users/all\")\r\n        .then(res => res.json())\r\n        .then((data => users.push(data)))\r\n        console.log(users)\r\n        var user = users.find(el => el.username === username)\r\n        console.log(user)\r\n        if (user === undefined) {\r\n            console.log(\"error\")\r\n        }\r\n        else {\r\n            console.log(user)\r\n            setAuthData(username)\r\n            history.replace('/')\r\n        }        \r\n    }\r\n\r\n\r\n        return(\r\n            <div>\r\n        <Container>\r\n          <Row>\r\n            <Col>\r\n\r\n            <Card className={\"border border-dark bg-dark text-white\"}>\r\n                    <Card.Header><h3>Login</h3></Card.Header>\r\n                    <Card.Body>\r\n                            <Form.Row>\r\n                                <Form.Group as= {Col}>\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"username\"\r\n                                    name = \"username\"\r\n                                    /* value={this.state.value} */\r\n                                    onChange= {e => setUsername(e.target.value)}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Username\" />\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"password\"\r\n                                    name = \"password\"\r\n                                    /* value={this.state.value} */\r\n                                    onChange= {e => setPassword(e.target.value)}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Password\" />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Card.Footer style={{\"textAlign\":\"right\"}}>\r\n                                <Button size=\"sm\" variant=\"primary\" onClick={handleLogin}>Login</Button>\r\n                            </Card.Footer>\r\n                        </Card.Body>    \r\n                </Card>    \r\n            </Col>\r\n          </Row>\r\n          </Container>\r\n            \r\n            </div>\r\n    \r\n        )\r\n    }\r\nexport default Login"]},"metadata":{},"sourceType":"module"}