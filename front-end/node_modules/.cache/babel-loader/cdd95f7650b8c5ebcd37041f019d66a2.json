{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{Button,Col,Row,Container,Form,Card}from\"react-bootstrap\";import{authContext}from'../context/AuthContext';import Tweets from'./Tweets';var HomePage=function HomePage(){var _useContext=useContext(authContext),setAuthData=_useContext.setAuthData,auth=_useContext.auth;var _useState=useState(),_useState2=_slicedToArray(_useState,2),tweet=_useState2[0],setTweet=_useState2[1];var fetchTweets=auth.data.tweets||[];//bara de egna tweetsen\nvar submitTweet=function submitTweet(e){var userId=auth.data.id;fetch(\"https://1lfzbgijz6.execute-api.eu-north-1.amazonaws.com/dev/users/\"+userId+\"/tweet\",{method:\"PUT\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({tweet:tweet})}).then(function(response){return response.json();}).then(function(res){console.log(\"tweet sent\");}).catch(function(error){console.log(error);});};//emailQueue\n// https://sqs.eu-north-1.amazonaws.com/951445330328/emailQueue\nvar onLogOut=function onLogOut(){setAuthData(null);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center\"},\"Welcome \".concat(auth.data.username),\" \"),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col},/*#__PURE__*/React.createElement(Form.Label,null,\"Send a tweet:\"),/*#__PURE__*/React.createElement(Form.Control,{required:true,autoComplete:\"off\",type:\"text\",onChange:function onChange(e){return setTweet(e.target.value);},className:\"bg-dark text-white\",placeholder:\"Send a tweet!\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{onClick:submitTweet},\"Tweet!\")))),/*#__PURE__*/React.createElement(Button,{onClick:onLogOut},\"Logout\"))),/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Twitterfeed\"),/*#__PURE__*/React.createElement(Container,null,fetchTweets.map(function(item,index){return/*#__PURE__*/React.createElement(Card,{key:index},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,item.tweet),/*#__PURE__*/React.createElement(Card.Text,null,\"Datum: \",item.createdAt,\" av \",auth.data.username)));})))));};export default HomePage;","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/AWScourse/Twitter/front-end/src/components/HomePage.js"],"names":["React","useContext","useState","Button","Col","Row","Container","Form","Card","authContext","Tweets","HomePage","setAuthData","auth","tweet","setTweet","fetchTweets","data","tweets","submitTweet","e","userId","id","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","res","console","log","catch","error","onLogOut","username","target","value","map","item","index","createdAt"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react'\r\nimport {Button, Col, Row, Container, Form, Card} from \"react-bootstrap\"\r\nimport { authContext } from '../context/AuthContext'\r\nimport Tweets from './Tweets'\r\n\r\n\r\nconst HomePage = () => {\r\n\r\n    const {setAuthData, auth} = useContext(authContext)\r\n    const [tweet, setTweet] = useState()\r\n    const fetchTweets = auth.data.tweets || [] //bara de egna tweetsen\r\n\r\n    const submitTweet = (e) => {\r\n        const userId = auth.data.id\r\n        fetch(\"https://1lfzbgijz6.execute-api.eu-north-1.amazonaws.com/dev/users/\" + userId + \"/tweet\", {\r\n            method: \"PUT\",\r\n            headers: {\r\n                Accept: \"application/json\", \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                tweet: tweet\r\n            })   \r\n        })\r\n        .then((response) => response.json())\r\n        .then(res => {\r\n            console.log(\"tweet sent\")\r\n        }).catch(error => {\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    //emailQueue\r\n    // https://sqs.eu-north-1.amazonaws.com/951445330328/emailQueue\r\n\r\n    const onLogOut = () => {\r\n        setAuthData(null)\r\n    }\r\n\r\n\r\n        return(\r\n            <>\r\n            <Row>\r\n                <Col>\r\n                    <Container>\r\n                        <h2 className=\"text-center\">{`Welcome ${auth.data.username}`} </h2>\r\n                        <Card>\r\n                            <Form.Row>\r\n                                <Form.Group as= {Col}>\r\n                                <Form.Label>Send a tweet:</Form.Label>\r\n                                <Form.Control required autoComplete=\"off\"\r\n                                        type=\"text\"\r\n                                        onChange= {e => setTweet(e.target.value)}\r\n                                        className={\"bg-dark text-white\"}\r\n                                        placeholder= \"Send a tweet!\" />\r\n                                        <br/>\r\n                                    <Button onClick={submitTweet}>Tweet!</Button>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                        </Card>\r\n                        <Button onClick={onLogOut}>Logout</Button>\r\n                    </Container>\r\n                    </Col>\r\n                <Col>\r\n                <h2>Twitterfeed</h2>\r\n                    <Container>\r\n                        { fetchTweets.map((item, index) => (\r\n                            <Card key={index}>\r\n                                <Card.Body>\r\n                                    <Card.Title>{item.tweet}</Card.Title>\r\n                                    <Card.Text>\r\n                                        Datum: {item.createdAt} av {auth.data.username}\r\n                                    </Card.Text>               \r\n                                </Card.Body>\r\n                            </Card>\r\n                        )) }\r\n                    </Container>\r\n                    </Col>\r\n            </Row>\r\n            </>\r\n        )\r\n    }\r\n\r\nexport default HomePage"]},"metadata":{},"sourceType":"module"}