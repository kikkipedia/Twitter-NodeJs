{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\src\\\\App.js\";\nimport React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"; //import Signup from './components/Signup'\n\nimport Login from './components/Login';\nimport Navigation from './Navigation';\nimport HomePage from './components/HomePage'; //import Tweets from './components/Tweets'\n//import Profile from './components/Profile'\n//import Signup from './components/Signup'\n\nimport Home from './components/Home';\nexport const AuthContext = React.createContext();\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  token: null\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token));\n      return { ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n\n    case \"LOGOUT\":\n      localStorage.clear();\n      return { ...state,\n        isAuthenticated: false,\n        user: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nfunction App() {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navigation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, !state.isAuthenticated ? /*#__PURE__*/React.createElement(Home, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 54\n    }\n  }) : /*#__PURE__*/React.createElement(HomePage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 65\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/AWScourse/Twitter/front-end/src/App.js"],"names":["React","BrowserRouter","Router","Switch","Route","Login","Navigation","HomePage","Home","AuthContext","createContext","initialState","isAuthenticated","user","token","reducer","state","action","type","localStorage","setItem","JSON","stringify","payload","clear","App","dispatch","useReducer"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,QAAsD,kBAAtD,C,CACA;;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,QAAP,MAAqB,uBAArB,C,CACA;AACA;AACA;;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,OAAO,MAAMC,WAAW,GAAGT,KAAK,CAACU,aAAN,EAApB;AAEP,MAAMC,YAAY,GAAG;AACnBC,EAAAA,eAAe,EAAE,KADE;AAEnBC,EAAAA,IAAI,EAAE,IAFa;AAGnBC,EAAAA,KAAK,EAAE;AAHY,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,OAAL;AACEC,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,MAAM,CAACM,OAAP,CAAeV,IAA9B,CAA7B;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BC,IAAI,CAACC,SAAL,CAAeL,MAAM,CAACM,OAAP,CAAeT,KAA9B,CAA9B;AACA,aAAO,EACL,GAAGE,KADE;AAELJ,QAAAA,eAAe,EAAE,IAFZ;AAGLC,QAAAA,IAAI,EAAEI,MAAM,CAACM,OAAP,CAAeV,IAHhB;AAILC,QAAAA,KAAK,EAAEG,MAAM,CAACM,OAAP,CAAeT;AAJjB,OAAP;;AAMF,SAAK,QAAL;AACEK,MAAAA,YAAY,CAACK,KAAb;AACA,aAAO,EACL,GAAGR,KADE;AAELJ,QAAAA,eAAe,EAAE,KAFZ;AAGLC,QAAAA,IAAI,EAAE;AAHD,OAAP;;AAKF;AACE,aAAOG,KAAP;AAlBJ;AAoBD,CArBD;;AAuBA,SAASS,GAAT,GAAgB;AAEd,QAAM,CAACT,KAAD,EAAQU,QAAR,IAAoB1B,KAAK,CAAC2B,UAAN,CAAiBZ,OAAjB,EAA0BJ,YAA1B,CAA1B;AAEA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAACK,MAAAA,KAAD;AAAQU,MAAAA;AAAR,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsB,CAACV,KAAK,CAACJ,eAAP,gBAAyB,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAzB,gBAAoC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA1D,CAFF,CADF;AAUD;;AAED,eAAea,GAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\"\n//import Signup from './components/Signup'\nimport Login from './components/Login'\nimport Navigation from './Navigation'\nimport HomePage from './components/HomePage'\n//import Tweets from './components/Tweets'\n//import Profile from './components/Profile'\n//import Signup from './components/Signup'\nimport Home from './components/Home'\n\nexport const AuthContext = React.createContext()\n\nconst initialState = {\n  isAuthenticated: false,\n  user: null,\n  token: null\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      localStorage.setItem(\"user\", JSON.stringify(action.payload.user))\n      localStorage.setItem(\"token\", JSON.stringify(action.payload.token))\n      return {\n        ...state,\n        isAuthenticated: true,\n        user: action.payload.user,\n        token: action.payload.token\n      }\n    case \"LOGOUT\":\n      localStorage.clear()\n      return {\n        ...state,\n        isAuthenticated: false,\n        user: null\n      }\n    default:\n      return state\n  }\n}\n\nfunction App () {\n\n  const [state, dispatch] = React.useReducer(reducer, initialState)\n  \n  return(\n    <AuthContext.Provider value={{state, dispatch}} >\n      <Navigation />\n      <div className=\"App\">{!state.isAuthenticated ? <Home /> : <HomePage />}</div>\n    </AuthContext.Provider>\n    \n  )\n\n\n  \n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}