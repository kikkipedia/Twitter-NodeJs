{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\AWScourse\\\\Twitter\\\\front-end\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { Card, Form, Button, Col, Row, Container } from \"react-bootstrap\";\nimport { authContext } from '../context/AuthContext';\nconst [username, setUsername] = useState();\nconst [password, setPassword] = useState();\nconst {\n  setAuthData\n} = useContext(authContext);\nexport default class Login extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      fetch(\"http://localhost:8080/users/all\").then(res => res.json()).then(res => {\n        this.setState({\n          users: res\n        });\n      });\n    };\n\n    this.handleLogin = e => {\n      console.log(this.state.users);\n      e.preventDefault();\n      var users = this.state.users;\n      var username = this.state.username;\n      var passwordInput = this.state.password;\n      var user = users.find(el => el.username === username && el.password === passwordInput);\n\n      if (user === undefined) {\n        console.log(\"error\");\n      } else {\n        console.log(user);\n        setAuthData(username);\n      }\n    };\n\n    this.state = {\n      users: []\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"border border-dark bg-dark text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 34\n      }\n    }, \"Login\")), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 37\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"text\",\n      id: \"username\",\n      name: \"username\",\n      value: this.state.value,\n      onChange: e => setUsername(e.target.value),\n      className: \"bg-dark text-white\",\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      required: true,\n      autoComplete: \"off\",\n      type: \"text\",\n      id: \"password\",\n      name: \"password\",\n      value: this.state.value,\n      onChange: e => setPassword(e.target.value),\n      className: \"bg-dark text-white\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(Card.Footer, {\n      style: {\n        \"textAlign\": \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, \"Login\"))))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/AWScourse/Twitter/front-end/src/components/Login.js"],"names":["React","useState","Card","Form","Button","Col","Row","Container","authContext","username","setUsername","password","setPassword","setAuthData","useContext","Login","Component","constructor","componentDidMount","fetch","then","res","json","setState","users","handleLogin","e","console","log","state","preventDefault","passwordInput","user","find","el","undefined","render","value","target"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\r\nimport {Card,Form,Button,Col, Row, Container} from \"react-bootstrap\"\r\nimport {authContext} from '../context/AuthContext'\r\n\r\nconst [username, setUsername] = useState()\r\nconst [password, setPassword] = useState()\r\nconst {setAuthData} = useContext(authContext)\r\n\r\nexport default class Login extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            users: []\r\n        }\r\n    }\r\n\r\n     componentDidMount = () => {\r\n        fetch(\"http://localhost:8080/users/all\")\r\n        .then(res => res.json())\r\n        .then((res) => {\r\n            this.setState ({ users: res })\r\n        })\r\n    }\r\n\r\n    // function that serarches users for correct and matches password\r\n    handleLogin = (e) => {\r\n        console.log(this.state.users)\r\n        e.preventDefault()\r\n        var users = this.state.users\r\n        var username = this.state.username\r\n        var passwordInput = this.state.password\r\n        var user = users.find(el => el.username === username && el.password === passwordInput)\r\n        if (user === undefined) {\r\n            console.log(\"error\")\r\n        }\r\n        else {\r\n            console.log(user)\r\n            setAuthData(username)\r\n        }       \r\n    }\r\n\r\n        render() {\r\n        return(\r\n            <div>\r\n        <Container>\r\n          <Row>\r\n            <Col>\r\n\r\n            <Card className={\"border border-dark bg-dark text-white\"}>\r\n                    <Card.Header><h3>Login</h3></Card.Header>\r\n                    <Card.Body>\r\n                            <Form.Row>\r\n                                <Form.Group as= {Col}>\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"username\"\r\n                                    name = \"username\"\r\n                                    value={this.state.value}\r\n                                    onChange= {e => setUsername(e.target.value)}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Username\" />\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control required autoComplete=\"off\"\r\n                                    type=\"text\"\r\n                                    id = \"password\"\r\n                                    name = \"password\"\r\n                                    value={this.state.value}\r\n                                    onChange= {e => setPassword(e.target.value)}\r\n                                    className={\"bg-dark text-white\"}\r\n                                    placeholder= \"Password\" />\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Card.Footer style={{\"textAlign\":\"right\"}}>\r\n                                <Button size=\"sm\" variant=\"primary\" onClick={this.handleLogin}>Login</Button>\r\n                            </Card.Footer>\r\n                        </Card.Body>\r\n                    \r\n                </Card>\r\n            \r\n            </Col>\r\n          </Row>\r\n          </Container>\r\n            \r\n            </div>\r\n    \r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}