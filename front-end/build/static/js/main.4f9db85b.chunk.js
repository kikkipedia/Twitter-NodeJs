(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{44:function(e,t,a){e.exports=a(58)},49:function(e,t,a){},50:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(49),a(20)),u=a(21),i=a(27),m=a(24),s=(a(50),a(17)),d=a(5),E=a(43),f=a(7),h=Object(n.createContext)({}),p=function(e){var t=e.children,a=Object(n.useState)({loading:!0,data:null}),l=Object(f.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){o({loading:!1,data:JSON.parse(window.localStorage.getItem("authData"))})}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("authData",JSON.stringify(c.data))}),[c.data]),r.a.createElement(h.Provider,{value:{auth:c,setAuthData:function(e){o({data:e})}}},t)},b=function(e){var t=e.component,a=Object(E.a)(e,["component"]),l=Object(n.useContext)(h).auth;return l.loading?r.a.createElement(d.b,Object.assign({},a,{render:function(){return r.a.createElement("p",null,"Loading...")}})):r.a.createElement(d.b,Object.assign({},a,{render:function(e){return l.data?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}}))},g=a(60),w=a(61),j=a(37),O=a(66),v=a(63),C=a(62),x=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(f.a)(c,2),u=(o[0],o[1]),i=Object(n.useContext)(h).setAuthData,m=Object(d.g)();return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(O.a.Header,null,r.a.createElement("h3",null,"Login")),r.a.createElement(O.a.Body,null,r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:j.a},r.a.createElement(v.a.Label,null,"Username"),r.a.createElement(v.a.Control,{required:!0,autoComplete:"off",type:"text",id:"username",name:"username",onChange:function(e){return l(e.target.value)},className:"bg-dark text-white",placeholder:"Username"}),r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{required:!0,autoComplete:"off",type:"text",id:"password",name:"password",onChange:function(e){return u(e.target.value)},className:"bg-dark text-white",placeholder:"Password"}))),r.a.createElement(O.a.Footer,{style:{textAlign:"right"}},r.a.createElement(C.a,{size:"sm",variant:"primary",onClick:function(e){e.preventDefault(),fetch("https://1lfzbgijz6.execute-api.eu-north-1.amazonaws.com/dev/users/").then((function(e){return e.json()})).then((function(e){console.log(e);var t=e.find((function(e){return e.username===a}));void 0===t?console.log("error"):(console.log(t),i(t),m.replace("/"))}))}},"Login"))))))))},k=a(64),y=a(65),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{bg:"dark",variant:"dark"},r.a.createElement(k.a.Brand,{href:"/"},"FakeTwitter"),r.a.createElement(y.a,{className:"mr-auto"},r.a.createElement(y.a.Link,{href:"/profile"},"Profile"),r.a.createElement(y.a.Link,{href:"/tweets"},"Tweet"))))}}]),a}(r.a.Component),N=function(){var e=Object(n.useState)(),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(),o=Object(f.a)(c,2),u=o[0],i=o[1],m=Object(n.useState)(),s=Object(f.a)(m,2),E=s[0],p=s[1],b=Object(n.useContext)(h).setAuthData,x=Object(d.g)(),k=function(){fetch("https://1lfzbgijz6.execute-api.eu-north-1.amazonaws.com/dev/users/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,email:E,password:u})}).then((function(e){return e.json()})).then((function(e){b(),x.replace("/"),alert("you are now able to login")})).catch((function(e){console.log(e)}))};return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(j.a,null,r.a.createElement(O.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(O.a.Header,null,r.a.createElement("h3",null,"Register")),r.a.createElement(v.a,{onSubmit:k},r.a.createElement(O.a.Body,null,r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:j.a},r.a.createElement(v.a.Label,null,"Username"),r.a.createElement(v.a.Control,{required:!0,autoComplete:"off",type:"text",onChange:function(e){return l(e.target.value)},className:"bg-dark text-white",placeholder:"Username"}),r.a.createElement(v.a.Label,null,"Email"),r.a.createElement(v.a.Control,{required:!0,autoComplete:"off",type:"text",onChange:function(e){return p(e.target.value)},className:"bg-dark text-white",placeholder:"email@email.com"}),r.a.createElement(v.a.Label,null,"Password"),r.a.createElement(v.a.Control,{required:!0,autoComplete:"off",type:"text",onChange:function(e){return i(e.target.value)},className:"bg-dark text-white",placeholder:"Password"}))),r.a.createElement(O.a.Footer,{style:{textAlign:"right"}},r.a.createElement(C.a,{size:"sm",variant:"primary",onClick:k},"Submit")))))))))},L=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,"welcome to fakeTwitter"),r.a.createElement(N,null),r.a.createElement(x,null))},z=function(){var e=Object(n.useContext)(h),t=e.setAuthData,a=e.auth,l=Object(n.useState)(),c=Object(f.a)(l,2),o=c[0],u=c[1],i=a.data.tweets||[];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(j.a,null,r.a.createElement(g.a,null,r.a.createElement("h2",{className:"text-center"},"Welcome ".concat(a.data.username)," "),r.a.createElement(O.a,null,r.a.createElement(v.a.Row,null,r.a.createElement(v.a.Group,{as:j.a},r.a.createElement(v.a.Label,null,"Send a tweet:"),r.a.createElement(v.a.Control,{required:!0,autoComplete:"off",type:"text",onChange:function(e){return u(e.target.value)},className:"bg-dark text-white",placeholder:"Send a tweet!"}),r.a.createElement("br",null),r.a.createElement(C.a,{onClick:function(e){var t=a.data.id;fetch("https://1lfzbgijz6.execute-api.eu-north-1.amazonaws.com/dev/users/"+t+"/tweet",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({tweet:o})}).then((function(e){return e.json()})).then((function(e){console.log("tweet sent")})).catch((function(e){console.log(e)}))}},"Tweet!")))),r.a.createElement(C.a,{onClick:function(){t(null)}},"Logout"))),r.a.createElement(j.a,null,r.a.createElement("h2",null,"Twitterfeed"),r.a.createElement(g.a,null,i.map((function(e,t){return r.a.createElement(O.a,{key:t},r.a.createElement(O.a.Body,null,r.a.createElement(O.a.Title,null,e.tweet),r.a.createElement(O.a.Text,null,"Datum: ",e.createdAt," av ",a.data.username)))}))))))},T=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={user:null},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(S,null),r.a.createElement(d.d,null,r.a.createElement(b,{exact:!0,path:"/",component:z}),r.a.createElement(d.b,{exact:!0,path:"/login",component:L}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(57);c.a.render(r.a.createElement(p,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.4f9db85b.chunk.js.map